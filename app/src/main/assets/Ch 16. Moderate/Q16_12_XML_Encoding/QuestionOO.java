{"Id":"1198660a-6eda-4f50-a015-861db54a59ac","Topic":"QuestionOO.java","Question":"","Solution":"package Q16_12_XML_Encoding;\r\n\r\n\r\npublic class QuestionOO {\r\n\t\r\n\tpublic static void encode(String v, StringBuilder sb) {\r\n\t\tv = v.replace(\"0\", \"\\\\0\");\r\n\t\tsb.append(v);\r\n\t\tsb.append(\" \");\r\n\t}\r\n\t\r\n\tpublic static void encodeEnd(StringBuilder sb) {\r\n\t\tsb.append(\"0\");\r\n\t\tsb.append(\" \");\r\n\t}\r\n\t\r\n\tpublic static void encode(Attribute attr, StringBuilder sb) {\r\n\t\tencode(attr.getTagCode(), sb);\r\n\t\tencode(attr.value, sb);\r\n\t}\r\n\t\r\n\tpublic static void encode(Element root, StringBuilder sb) {\r\n\t\tencode(root.getNameCode(), sb);\r\n\t\tfor (Attribute a : root.attributes) {\r\n\t\t\tencode(a, sb);\r\n\t\t}\r\n\t\tencodeEnd(sb);\r\n\t\tif (root.value != null && root.value != \"\") {\r\n\t\t\tencode(root.value, sb);\r\n\t\t} else {\r\n\t\t\tfor (Element e : root.children) {\r\n\t\t\t\tencode(e, sb);\r\n\t\t\t}\r\n\t\t}\r\n\t\tencodeEnd(sb);\r\n\t}\r\n\t\r\n\tpublic static String encodeToString(Element root) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tencode(root, sb);\r\n\t\treturn sb.toString();\r\n\t}\r\n\t\r\n\tpublic static void main(String args[]) {\r\n\t\tElement root = new Element(\"family\");\r\n\t\tAttribute a1 = new Attribute(\"lastName\", \"mcdowell\");\r\n\t\tAttribute a2 = new Attribute(\"state\", \"CA\");\r\n\t\troot.insert(a1);\r\n\t\troot.insert(a2);\r\n\t\t\r\n\t\tElement child = new Element(\"person\", \"Some Message\");\r\n\t\tAttribute a3 = new Attribute(\"firstName\", \"Gayle\");\r\n\t\tchild.insert(a3);\r\n\t\t\r\n\t\troot.insert(child);\r\n\t\t\r\n\t\tString s = encodeToString(root);\r\n\t\tSystem.out.println(s);\r\n\t}\r\n}\r\n","Chapter":"Q16_12_XML_Encoding"}