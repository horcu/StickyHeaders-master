{"Id":"2e1a21c4-860a-4427-ac93-b10c18d1dc38","Topic":"QuestionC.java","Question":"","Solution":"package Q16_18_Pattern_Matcher;\n\npublic class QuestionC {\n\t\n\tpublic static String buildFromPattern(String pattern, String main, String alt) {\t\n\t\tStringBuffer sb = new StringBuffer();\n\t\tchar first = pattern.charAt(0);\n\t\tfor (char c : pattern.toCharArray()) {\n\t\t\tif (c == first) {\n\t\t\t\tsb.append(main);\n\t\t\t} else {\n\t\t\t\tsb.append(alt);\n\t\t\t}\n\t\t}\n\t\treturn sb.toString();\n\t}\n\t\n\tpublic static int countOf(String pattern, char c) {\n\t\tint count = 0;\n\t\tfor (int i = 0; i < pattern.length(); i++) {\n\t\t\tif (pattern.charAt(i) == c) {\n\t\t\t\tcount++;\n\t\t\t}\n\t\t}\n\t\treturn count;\n\t}\n\t\n\tpublic static boolean doesMatch(String pattern, String value) {\n\t\tif (pattern.length() == 0) return value.length() == 0;\n\t\t\n\t\tchar mainChar = pattern.charAt(0);\n\t\tchar altChar = mainChar == 'a' ? 'b' : 'a';\n\t\tint size = value.length();\n\n\t\tint countOfMain = countOf(pattern, mainChar);\n\t\tint countOfAlt = pattern.length() - countOfMain;\n\t\tint firstAlt = pattern.indexOf(altChar);\n\t\tint maxMainSize = size / countOfMain;\n\t\t\n\t\tfor (int mainSize = 0; mainSize <= maxMainSize; mainSize++) {\n\t\t\tint remainingLength = size - mainSize * countOfMain;\n\t\t\tString first = value.substring(0, mainSize);\n\t\t\tif (countOfAlt == 0 || remainingLength % countOfAlt == 0) {\n\t\t\t\tint altIndex = firstAlt * mainSize;\n\t\t\t\tint altSize = countOfAlt == 0 ? 0 : remainingLength / countOfAlt;\n\t\t\t\tString second = countOfAlt == 0 ? \"\" : value.substring(altIndex, altSize + altIndex);\n\t\t\t\t\n\t\t\t\tString candidate = buildFromPattern(pattern, first, second);\n\t\t\t\t\n\t\t\t\tif (candidate.equals(value)) {\n\t\t\t\t\tSystem.out.println(first + \", \" + second);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\t\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tString[][] tests = {{\"ababb\", \"backbatbackbatbat\"}, {\"abab\", \"backsbatbackbats\"}, {\"aba\", \"backsbatbacksbat\"}};\n\t\tfor (String[] test : tests) {\n\t\t\tString pattern = test[0];\n\t\t\tString value = test[1];\n\t\t\tSystem.out.println(pattern + \", \" + value + \": \" + doesMatch(pattern, value));\n\t\t}\n\n\t}\n\n}\n","Chapter":"Q16_18_Pattern_Matcher"}