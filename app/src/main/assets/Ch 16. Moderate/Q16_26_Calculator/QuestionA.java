{"Id":"c7bbcdd9-d393-4616-ac32-48a1d07dec45","Topic":"QuestionA.java","Question":"","Solution":"package Q16_26_Calculator;\n\nimport java.util.ArrayList;\n\npublic class QuestionA {\n\tpublic static Term collapseTerm(Term primary, Term secondary) {\n\t\tif (primary == null) return secondary;\n\t\tif (secondary == null) return primary;\n\t\t\n\t\tdouble value = applyOp(primary.getNumber(), secondary.getOperator(), secondary.getNumber());\n\t\tprimary.setNumber(value);\n\t\treturn primary;\n\t}\n\t\n\tpublic static double applyOp(double left, Operator op, double right) {\n\t\tif (op == Operator.ADD) {\n\t\t\treturn left + right;\n\t\t} else if (op == Operator.SUBTRACT) {\n\t\t\treturn left - right;\n\t\t} else if (op == Operator.MULTIPLY) {\n\t\t\treturn left * right;\n\t\t} else if (op == Operator.DIVIDE) {\n\t\t\treturn left / right;\n\t\t} else {\n\t\t\treturn right;\n\t\t}\n\t}\n\t\n\t/* Compute the result of the arithmetic sequence. This\n\t   works by reading left to right and applying each term to\n\t   a result. When we see a multiplication or division, we \n\t   instead apply this sequence to a temporary variable. */\n\tpublic static double compute(String sequence) {\n\t\tArrayList<Term> terms = Term.parseTermSequence(sequence);\n\t\tif (terms == null) return Integer.MIN_VALUE;\n\t\t\n\t\tdouble result = 0;\n\t\tTerm processing = null;\n\t\tfor (int i = 0; i < terms.size(); i++) {\n\t\t\tTerm current = terms.get(i);\n\t\t\tTerm next = i + 1 < terms.size() ? terms.get(i + 1) : null;\n\t\t\t\n\t\t\t/* Apply the current term to “processing”. */\n\t\t\tprocessing = collapseTerm(processing, current);\n\t\t\t\n\t\t\t/* If next term is + or -, then this cluster is done \n\t\t\t * and we should apply “processing” to “result”. */\n\t\t\tif (next == null || next.getOperator() == Operator.ADD || next.getOperator() == Operator.SUBTRACT) {\n\t\t\t\tresult = applyOp(result, processing.getOperator(), processing.getNumber());\n\t\t\t\tprocessing = null;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn result;\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tString expression = \"6/5*3+4*5/2-12/6*3/3+3+3\";\n\t\tdouble result = compute(expression);\n\t\tSystem.out.println(result);\t\t\n\t}\n\n}\n","Chapter":"Q16_26_Calculator"}