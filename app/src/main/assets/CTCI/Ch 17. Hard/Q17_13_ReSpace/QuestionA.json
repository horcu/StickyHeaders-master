{"Id":"56e1f341-e679-4a30-9ae5-9171ec856f13","Topic":"Ch 17. Hard","Question":"","Solution":"package Q17_13_ReSpace;\r\n\r\nimport java.util.HashSet;\r\n\r\nimport CtCILibrary.AssortedMethods;\r\npublic class QuestionA {\t\r\n\tpublic static String bestSplit(HashSet<String> dictionary, String sentence) {\r\n\t\tParseResult r = split(dictionary, sentence, 0);\r\n\t\treturn r == null ? null : r.parsed;\r\n\t}\r\n\t\r\n\tpublic static ParseResult split(HashSet<String> dictionary, String sentence, int start) {\r\n\t\tif (start >= sentence.length()) {\r\n\t\t\treturn new ParseResult(0, \"\");\r\n\t\t} \r\n\r\n\t\tint bestInvalid = Integer.MAX_VALUE;\r\n\t\tString bestParsing = null;\r\n\r\n\t\tString partial = \"\";\r\n\t\tint index = start;\r\n\t\twhile (index < sentence.length()) {\r\n\t\t\tchar c = sentence.charAt(index);\r\n\t\t\tpartial += c;\r\n\t\t\tint invalid = dictionary.contains(partial) ? 0 : \r\n\t\t\t\tpartial.length();\r\n\t\t\tif (invalid < bestInvalid) { // Short circuit\r\n\t\t\t\t/* Recurse, putting a space after this character. If this\r\n\t\t\t\t * is better than the current best option, replace the best\r\n\t\t\t\t * option. */\r\n\t\t\t\tParseResult result = split(dictionary, sentence, index + 1);\r\n\t\t\t\tif (invalid + result.invalid < bestInvalid) {\r\n\t\t\t\t\tbestInvalid = invalid + result.invalid;\r\n\t\t\t\t\tbestParsing = partial + \" \" + result.parsed;\r\n\t\t\t\t\tif (bestInvalid == 0) break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tindex++;\r\n\t\t}\r\n\t\treturn new ParseResult(bestInvalid, bestParsing);\r\n\t}\r\n\r\n\t\r\n\tpublic static String clean(String str) {\r\n\t\tchar[] punctuation = {',', '\"', '!', '.', '\\'', '?', ','};\r\n\t\tfor (char c : punctuation) {\r\n\t\t\tstr = str.replace(c, ' ');\r\n\t\t}\r\n\t\treturn str.replace(\" \", \"\").toLowerCase();\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tHashSet<String> dictionary = AssortedMethods.getWordListAsHashSet();\r\n\t\tString sentence = \"As one of the top companies in the world, Google\"; // will surely attract the attention of computer gurus. This does not, however, mean the company is for everyone.\";\r\n\t\tsentence = clean(sentence);\r\n\t\tSystem.out.println(sentence);\r\n\t\t//Result v = parse(0, 0, new HashMap<Integer, Result>());\r\n\t\t//System.out.println(v.parsed);\r\n\t\tSystem.out.println(bestSplit(dictionary, sentence));\r\n\t}\r\n\r\n}\r\n","Chapter":"Ch 17. Hard"}