{"Id":"49ead1b0-1d13-41a3-ab19-0a7c9580af46","Topic":"Ch 17. Hard","Question":"","Solution":"package Q17_08_Circus_Tower;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.*;\r\n\r\npublic class QuestionA {\r\n\tpublic static ArrayList<HtWt> longestIncreasingSeq(ArrayList<HtWt> items) {\r\n\t\tCollections.sort(items);\r\n\t\treturn bestSeqAtIndex(items, new ArrayList<HtWt>(), 0);\r\n\t}\r\n\t\r\n\t// Returns longer sequence\r\n\tprivate static ArrayList<HtWt> max(ArrayList<HtWt> seq1, ArrayList<HtWt> seq2) {\r\n\t\tif (seq1 == null) {\r\n\t\t\treturn seq2;\r\n\t\t} else if (seq2 == null) {\r\n\t\t\treturn seq1;\r\n\t\t}\r\n\t\treturn seq1.size() > seq2.size() ? seq1 : seq2;\r\n\t}\r\n\t\r\n\tprivate static boolean canAppend(ArrayList<HtWt> solution, HtWt value) {\r\n\t\tif (solution == null) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (solution.size() == 0) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tHtWt last = solution.get(solution.size() - 1);\r\n\t\treturn last.isBefore(value);\r\n\t}\r\n\t\r\n\tprivate static ArrayList<HtWt> bestSeqAtIndex(ArrayList<HtWt> array, ArrayList<HtWt> sequence, int index) {\r\n\t\tif (index >= array.size()) return sequence;\r\n\t\t\r\n\t\tHtWt value = array.get(index);\r\n\t\t\r\n\t\tArrayList<HtWt> bestWith = null;\r\n\t\tif (canAppend(sequence, value)) {\r\n\t\t\tArrayList<HtWt> sequenceWith = (ArrayList<HtWt>) sequence.clone();\r\n\t\t\tsequenceWith.add(value);\r\n\t\t\tbestWith = bestSeqAtIndex(array, sequenceWith, index + 1);\r\n\t\t}\r\n\t\t\r\n\t\tArrayList<HtWt> bestWithout = bestSeqAtIndex(array, sequence, index + 1);\r\n\t\treturn max(bestWith, bestWithout);\r\n\t}\r\n\t\r\n\tpublic static ArrayList<HtWt> initialize() {\r\n\t\tArrayList<HtWt> items = new ArrayList<HtWt>();\r\n\t\t\r\n\t\tHtWt item = new HtWt(65, 60);\r\n\t\titems.add(item);\r\n\t\t\r\n\t\titem = new HtWt(70, 150);\r\n\t\titems.add(item);\r\n\t\t\r\n\t\titem = new HtWt(56, 90);\r\n\t\titems.add(item);\r\n\t\t\r\n\t\titem = new HtWt(75, 190);\r\n\t\titems.add(item);\r\n\t\t\r\n\t\titem = new HtWt(60, 95);\r\n\t\titems.add(item);\r\n\t\t\r\n\t\titem = new HtWt(68, 110);\r\n\t\titems.add(item);\r\n\t\t\r\n\t\titem = new HtWt(35, 65);\r\n\t\titems.add(item);\r\n\t\t\r\n\t\titem = new HtWt(40, 60);\r\n\t\titems.add(item);\r\n\t\t\r\n\t\titem = new HtWt(45, 63);\r\n\t\titems.add(item);\r\n\t\t\r\n\t\treturn items;\r\n\t}\r\n\t\r\n\tpublic static void printList(ArrayList<HtWt> list) {\r\n\t\tfor (HtWt item : list) {\r\n\t\t\tSystem.out.println(item.toString() + \" \");\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tArrayList<HtWt> items = initialize();\r\n\t\tArrayList<HtWt> solution = longestIncreasingSeq(items);\r\n\t\tprintList(solution);\r\n\t}\r\n\r\n}\r\n","Chapter":"Ch 17. Hard"}