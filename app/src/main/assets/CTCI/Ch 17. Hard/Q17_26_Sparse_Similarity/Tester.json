{"Id":"f9ca237f-bf46-410c-b611-72e584b33114","Topic":"Ch 17. Hard","Question":"","Solution":"package Q17_26_Sparse_Similarity;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map.Entry;\n\npublic class Tester {\n\tpublic static ArrayList<Integer> removeDups(int[] array) {\n\t\tHashSet<Integer> set = new HashSet<Integer>();\n\t\tfor (int a : array) {\n\t\t\tset.add(a);\n\t\t}\n\t\tArrayList<Integer> list = new ArrayList<Integer>();\n\t\tlist.addAll(set);\n\t\treturn list;\n\t}\n\t\n\tpublic static boolean isEqual(HashMap<DocPair, Double> one, HashMap<DocPair, Double> two) {\n\t\tif (one.size() != two.size()) {\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\tfor (Entry<DocPair, Double> a : one.entrySet()) {\n\t\t\tif (!two.containsKey(a.getKey())) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tdouble sim1 = a.getValue();\n\t\t\tdouble sim2 = two.get(a.getKey());\n\t\t\tif (sim1 != sim2) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tpublic static void printSim(HashMap<DocPair, Double> similarities) {\n\t\tfor (Entry<DocPair, Double> result : similarities.entrySet()) {\n\t\t\tDocPair pair = result.getKey();\n\t\t\tDouble sim = result.getValue();\n\t\t\tSystem.out.println(pair.doc1 + \", \" + pair.doc2 + \" : \" + sim);\n\t\t}\n\t}\n\t\n\tpublic static void addTo(HashMap<Integer, Document> documents, int id, int[] array) {\n\t\tArrayList<Integer> w = removeDups(array);\n\t\tDocument doc = new Document(id, w);\n\t\tdocuments.put(id, doc);\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\t/*int numDocuments = 5;\n\t\tint docSize = 5;\n\t\tHashMap<Integer, Document> documents = new HashMap<Integer, Document>();\n\t\tfor (int i = 0; i < numDocuments; i++) {\n\t\t\tint[] words = AssortedMethods.randomArray(docSize, 0, 10);\n\t\t\tArrayList<Integer> w = removeDups(words);\n\t\t\tSystem.out.println(i + \": \" + w.toString());\n\t\t\tDocument doc = new Document(i, w);\n\t\t\tdocuments.put(i, doc);\n\t\t}*/\n\t\tHashMap<Integer, Document> documents = new HashMap<Integer, Document>();\n\t\t\n\t\tint[] array1 = {14, 15, 100, 9, 3};\n\t\taddTo(documents, 13, array1);\n\n\t\tint[] array2 = {32, 1, 9, 3, 5};\n\t\taddTo(documents, 16, array2);\n\n\t\tint[] array3 = {15, 29, 2, 6, 8, 7};\n\t\taddTo(documents, 19, array3);\n\n\t\tint[] array4 = {7, 10};\n\t\taddTo(documents, 24, array4);\n\t\t\n\t\t\n\t\tHashMap<DocPair, Double> simA = QuestionA.computeSimilarities(documents);\n\t\tHashMap<DocPair, Double> simB = QuestionB.computeSimilarities(documents);\n\t\tHashMap<DocPair, Double> simC = QuestionC.computeSimilarities(documents);\n\t\tSystem.out.println(\"----------\");\n\t\tprintSim(simA);\n\t\tSystem.out.println(\"----------\");\n\t\tprintSim(simB);\n\t\tSystem.out.println(\"----------\");\n\t\tprintSim(simC);\n\t\tSystem.out.println(\"----------\");\n\t\t\n\t\tSystem.out.println(isEqual(simA, simB));\n\t\tSystem.out.println(isEqual(simB, simC));\n\t\tSystem.out.println(isEqual(simA, simC));\n\t}\n\n}\n","Chapter":"Ch 17. Hard"}