{"Id":"1997345f-bb49-4dd1-bff4-725353f0a460","Topic":"Ch 16. Moderate","Question":"","Solution":"package Q16_04_Tic_Tac_Win;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport CtCILibrary.AssortedMethods;\r\n\r\npublic class QuestionH {\t\r\n\tpublic static Piece hasWon(Piece[][] board) {\r\n\t\tif (board.length != board[0].length) return Piece.Empty;\r\n\t\tint size = board.length;\r\n\t\t\r\n\t\tArrayList<PositionIterator> instructions = new ArrayList<PositionIterator>();\r\n\t\tfor (int i = 0; i < board.length; i++) {\r\n\t\t\tinstructions.add(new PositionIterator(new Position(0, i), 1, 0, size));\r\n\t\t\tinstructions.add(new PositionIterator(new Position(i, 0), 0, 1, size));\r\n\t\t}\r\n\t\tinstructions.add(new PositionIterator(new Position(0, 0), 1, 1, size));\r\n\t\tinstructions.add(new PositionIterator(new Position(0, size - 1), 1, -1, size));\r\n\t\t\r\n\t\tfor (PositionIterator iterator : instructions) {\r\n\t\t\tPiece winner = hasWon(board, iterator);\r\n\t\t\tif (winner != Piece.Empty) {\r\n\t\t\t\treturn winner;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn Piece.Empty;\r\n\t}\r\n\t\r\n\tpublic static Piece hasWon(Piece[][] board, PositionIterator iterator) {\r\n\t\tPosition firstPosition = iterator.next();\r\n\t\tPiece first = board[firstPosition.row][firstPosition.column];\r\n\t\twhile (iterator.hasNext()) {\r\n\t\t\tPosition position = iterator.next();\r\n\t\t\tif (board[position.row][position.column] != first) {\r\n\t\t\t\treturn Piece.Empty;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn first;\r\n\t}\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tint N = 3;\r\n\t\tint[][] board_t = AssortedMethods.randomMatrix(N, N, 0, 2);\r\n\t\tPiece[][] board = new Piece[N][N];\r\n\t\tfor (int i = 0; i < N; i++) {\r\n\t\t\tfor (int j = 0; j < N; j++) {\r\n\t\t\t\tint x = board_t[i][j];\r\n\t\t\t\tboard[i][j] = Tester.convertIntToPiece(x);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tPiece p1 = hasWon(board);\r\n\t\t\r\n\t\tSystem.out.println(p1);\r\n\t\tAssortedMethods.printMatrix(board_t);\r\n\t}\r\n\r\n}\r\n","Chapter":"Ch 16. Moderate"}