{"Id":"63991fb6-6e95-4365-9153-96b232288294","Topic":"Ch 16. Moderate","Question":"","Solution":"package Q16_26_Calculator;\n\nimport java.util.ArrayList;\n\npublic class Term {\t\n\tprivate double value;\n\tprivate Operator operator = Operator.BLANK;\n\t\n\tpublic Term(double v, Operator op) {\n\t\tvalue = v;\n\t\toperator = op;\n\t}\n\t\n\tpublic double getNumber() {\n\t\treturn value;\n\t}\n\t\n\tpublic Operator getOperator() {\n\t\treturn operator;\n\t}\n\t\n\tpublic void setNumber(double v) {\n\t\tvalue = v;\n\t}\n\t\n\tpublic static ArrayList<Term> parseTermSequence(String sequence) {\n\t\tArrayList<Term> terms = new ArrayList<Term>();\n\t\tint offset = 0;\n\t\twhile (offset < sequence.length()) {\n\t\t\tOperator op = Operator.BLANK;\n\t\t\tif (offset > 0) {\n\t\t\t\top = parseOperator(sequence.charAt(offset));\n\t\t\t\tif (op == Operator.BLANK) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\toffset++;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tint value = parseNextNumber(sequence, offset);\n\t\t\t\toffset += Integer.toString(value).length();\n\t\t\t\tTerm term = new Term(value, op);\n\t\t\t\tterms.add(term);\n\t\t\t} catch (NumberFormatException ex) {\n\t\t\t\treturn null;\n\t\t\t}\t\n\t\t}\n\t\treturn terms;\n\t}\n\t\n\tpublic static Operator parseOperator(char op) {\n\t\tswitch(op) {\n\t\tcase '+': return Operator.ADD;\n\t\tcase '-': return Operator.SUBTRACT;\n\t\tcase '*': return Operator.MULTIPLY;\n\t\tcase '/': return Operator.DIVIDE;\n\t\t}\n\t\treturn Operator.BLANK;\n\t}\n\t\n\tpublic static int parseNextNumber(String sequence, int offset) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\twhile (offset < sequence.length() && Character.isDigit(sequence.charAt(offset))) {\n\t\t\tsb.append(sequence.charAt(offset));\n\t\t\toffset++;\n\t\t}\n\t\treturn Integer.parseInt(sb.toString());\t\n\t}\n}\n","Chapter":"Ch 16. Moderate"}