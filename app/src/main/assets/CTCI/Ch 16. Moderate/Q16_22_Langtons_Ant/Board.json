{"Id":"44b408a0-a5bc-4319-9453-b57f057cfb27","Topic":"Ch 16. Moderate","Question":"","Solution":"package Q16_22_Langtons_Ant;\n\nimport java.util.HashSet;\n\npublic class Board {\t\n\tprivate HashSet<Position> whites = new HashSet<Position>();\n\tprivate Ant ant = new Ant();\n\tprivate Position topLeftCorner = new Position(0, 0);\n\tprivate Position bottomRightCorner = new Position(0, 0);\n\t\n\tpublic Board() { }\n\t\n\t/* Move ant. */\n\tpublic void move() {\n\t\tant.turn(isWhite(ant.position)); // Turn\n\t\tflip(ant.position); // flip\n\t\tant.move(); // move\n\t\tensureFit(ant.position);\n\t}\n\t\n\t/* Flip color of cells. */\n\tprivate void flip(Position position) {\n\t\tif (whites.contains(position)) {\n\t\t\twhites.remove(position);\n\t\t} else {\n\t\t\twhites.add(position.clone());\n\t\t}\n\t}\n\t\n\t/* \"Grow\" the grid by tracking the most top-left and \n\t * bottom-right position that we've seen. */\n\tprivate void ensureFit(Position position) {\n\t\tint row = position.row;\n\t\tint column = position.column;\n\t\t\n\t\ttopLeftCorner.row = Math.min(topLeftCorner.row, row);\n\t\ttopLeftCorner.column = Math.min(topLeftCorner.column, column);\n\n\t\tbottomRightCorner.row = Math.max(bottomRightCorner.row, row);\n\t\tbottomRightCorner.column = Math.max(bottomRightCorner.column, column);\n\t}\t\n\t\n\t/* Check if cell is white. */\n\tpublic boolean isWhite(Position p) {\n\t\treturn whites.contains(p);\n\t}\n\t\n\t/* Check if cell is white. */\n\tpublic boolean isWhite(int row, int column) {\n\t\treturn whites.contains(new Position(row, column));\n\t}\t\n\t\n\t/* Print board. */\n\tpublic String toString() {\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint rowMin = topLeftCorner.row;\n\t\tint rowMax = bottomRightCorner.row;\n\t\tint colMin = topLeftCorner.column;\n\t\tint colMax = bottomRightCorner.column;\n\t\tfor (int r = rowMin; r <= rowMax; r++) {\n\t\t\tfor (int c = colMin; c <= colMax; c++) {\n\t\t\t\tif (r == ant.position.row && c == ant.position.column) {\n\t\t\t\t\tsb.append(ant.orientation);\n\t\t\t\t} else if (isWhite(r, c)) {\n\t\t\t\t\tsb.append(\"X\");\n\t\t\t\t} else {\n\t\t\t\t\tsb.append(\"_\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tsb.append(\"\\n\");\n\t\t}\n\t\tsb.append(\"Ant: \" + ant.orientation + \". \\n\");\n\t\treturn sb.toString();\n\t}\n}\n","Chapter":"Ch 16. Moderate"}