{"Id":"dbfdb272-850c-4c43-896d-f98a6d5b712f","Topic":"Ch 06. Math and Logic Puzzles","Question":"","Solution":"package Introduction;\r\n\r\npublic class SieveOfEratosthenes {\r\n\t\r\n\tpublic static void crossOff(boolean[] flags, int prime) {\r\n\t\t/* Cross off remaining multiples of prime. We can start with\r\n\t\t * (prime*prime), because if we have a k * prime, where k < prime,\r\n\t\t * this value would have already been crossed off in a prior\r\n\t\t * iteration. */\t\t\r\n\t\tfor (int i = prime * prime; i < flags.length; i += prime) {\r\n\t\t\tflags[i] = false;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static int getNextPrime(boolean[] flags, int prime) {\r\n\t\tint next = prime + 1;\r\n\t\twhile (next < flags.length && !flags[next]) {\r\n\t\t\tnext++;\r\n\t\t}\r\n\t\treturn next;\t\r\n\t}\r\n\t\r\n\tpublic static void init(boolean[] flags) {\r\n\t\tflags[0] = false;\r\n\t\tflags[1] = false;\r\n\t\tfor (int i = 2; i < flags.length; i++) {\r\n\t\t\tflags[i] = true;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static int[] prune(boolean[] flags, int count) {\r\n\t\tint[] primes = new int[count];\r\n\t\tint index = 0;\r\n\t\tfor (int i = 0; i < flags.length; i++) {\r\n\t\t\tif (flags[i]) {\r\n\t\t\t\tprimes[index] = i;\r\n\t\t\t\tindex++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn primes;\r\n\t}\r\n\t\r\n\tpublic static boolean[] sieveOfEratosthenes(int max) {\r\n        boolean[] flags = new boolean[max + 1];\r\n        \r\n\t\tinit(flags);\r\n        int prime = 2;\r\n        \r\n        while (prime <= Math.sqrt(max)) {       \t\r\n    \t\t/* Cross off remaining multiples of prime */   \r\n    \t\tcrossOff(flags, prime); \r\n\r\n    \t\t/* Find next value which is true */\r\n    \t\tprime = getNextPrime(flags, prime);\r\n        }\r\n        \r\n        return flags; //prune(flags, count);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tboolean[] primes = sieveOfEratosthenes(4);\r\n\t\tfor (int i = 0; i < primes.length; i++) {\r\n\t\t\tif (primes[i]) {\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","Chapter":"Ch 06. Math and Logic Puzzles"}