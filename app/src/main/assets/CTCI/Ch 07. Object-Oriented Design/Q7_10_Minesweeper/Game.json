{"Id":"65cc598d-4990-4e37-99dd-46afc0142a6f","Topic":"Ch 07. Object-Oriented Design","Question":"","Solution":"package Q7_10_Minesweeper;\n\nimport java.util.Scanner;\n\npublic class Game {\n\tpublic enum GameState {\n\t\tWON, LOST, RUNNING\n\t}\n\t\n\tprivate Board board;\n\tprivate int rows;\n\tprivate int columns;\n\tprivate int bombs;\n\tprivate GameState state;\n\t\n\tpublic Game(int r, int c, int b) {\n\t\trows = r;\n\t\tcolumns = c;\n\t\tbombs = b;\n\t\tstate = GameState.RUNNING;\n\t}\t\n\t\n\tpublic boolean initialize() {\n\t\tif (board == null) {\n\t\t\tboard = new Board(rows, columns, bombs);\t\n\t\t\tboard.printBoard(true);\n\t\t\treturn true;\n\t\t} else {\n\t\t\tSystem.out.println(\"Game has already been initialized.\");\n\t\t\treturn false;\n\t\t}\n\t}\t\n\t\n\tpublic boolean start() {\n\t\tif (board == null) {\n\t\t\tinitialize();\n\t\t}\n\t\treturn playGame();\n\t}\n\t\n\tpublic void printGameState() {\n\t\tif (state == GameState.LOST) {\n\t\t\tboard.printBoard(true);\n\t\t\tSystem.out.println(\"FAIL\");\n\t\t} else if (state == GameState.WON) {\n\t\t\tboard.printBoard(true);\n\t\t\tSystem.out.println(\"WIN\");\n\t\t} else {\n\t\t\tSystem.out.println(\"Number remaining: \" + board.getNumRemaining());\t\t\t\n\t\t\tboard.printBoard(false);\t\n\t\t}\n\t}\n\t\n\tprivate boolean playGame() {\n\t\tScanner scanner = new Scanner(System.in);\n\t\tprintGameState();\n\t\t\n\t\twhile (state == GameState.RUNNING) {\n\t\t\tString input = scanner.nextLine();\n\t\t\tif (input.equals(\"exit\")) {\n\t\t\t\tscanner.close();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\tUserPlay play = UserPlay.fromString(input);\n\t\t\tif (play == null) { \n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tUserPlayResult result = board.playFlip(play);\n\t\t\tif (result.successfulMove()) {\n\t\t\t\tstate = result.getResultingState();\n\t\t\t} else {\n\t\t\t\tSystem.out.println(\"Could not flip cell (\" + play.getRow() + \",\" + play.getColumn() + \").\");\n\t\t\t} \n\t\t\tprintGameState();\n\t\t}\t\n\t\tscanner.close();\n\t\treturn true;\n\t}\n\t\n\t\n}\n","Chapter":"Ch 07. Object-Oriented Design"}