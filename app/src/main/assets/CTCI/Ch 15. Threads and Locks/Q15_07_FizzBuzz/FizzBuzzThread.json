{"Id":"2bf449fc-6af8-49fe-b000-e880d5cd922c","Topic":"Ch 15. Threads and Locks","Question":"","Solution":"package Q15_07_FizzBuzz;\n\npublic class FizzBuzzThread extends Thread {\n\tprivate static Object lock = new Object();\n\tprotected static int current = 1;\n\tprivate int max;\n\tprivate boolean div3, div5;\n\tprivate String toPrint;\n\t\n\tpublic FizzBuzzThread(boolean div3, boolean div5, int max, String toPrint) {\n\t\tthis.div3 = div3;\n\t\tthis.div5 = div5;\n\t\tthis.max = max;\n\t\tthis.toPrint = toPrint;\n\t}\n\t\n\tpublic void print() {\n\t\tSystem.out.println(toPrint);\n\t}\n\t\n\tpublic void run() {\n\t\twhile (true) {\n\t\t\tsynchronized (lock) {\n\t\t\t\tif (current > max) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ((current % 3 == 0) == div3 && (current % 5 == 0) == div5) {\n\t\t\t\t\tprint();\n\t\t\t\t\tcurrent++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","Chapter":"Ch 15. Threads and Locks"}