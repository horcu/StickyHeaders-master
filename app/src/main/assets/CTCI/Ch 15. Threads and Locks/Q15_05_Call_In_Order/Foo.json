{"Id":"b6b012f5-e08a-45d4-a956-645692551b63","Topic":"Ch 15. Threads and Locks","Question":"","Solution":"package Q15_05_Call_In_Order;\r\n\r\nimport java.util.concurrent.Semaphore;\r\n\r\npublic class Foo {\r\n\tpublic int pauseTime = 1000;\r\n\tpublic Semaphore sem1;\r\n\tpublic Semaphore sem2;\r\n\t\r\n\tpublic Foo() {\t\r\n\t\ttry {\r\n\t\t\tsem1 = new Semaphore(1);\r\n\t\t\tsem2 = new Semaphore(1);\r\n\t\t\t\r\n\t\t\tsem1.acquire();\r\n\t\t\tsem2.acquire();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void first() {\r\n\t\ttry {\r\n\t\t\tSystem.out.println(\"Started Executing 1\");\r\n\t\t\tThread.sleep(pauseTime);\r\n\t\t\tSystem.out.println(\"Finished Executing 1\");\r\n\t\t\tsem1.release();\r\n\t\t} catch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void second() {\r\n\t\ttry {\r\n\t\t\tsem1.acquire();\r\n\t\t\tsem1.release();\r\n\t\t\tSystem.out.println(\"Started Executing 2\");\r\n\t\t\tThread.sleep(pauseTime);\r\n\t\t\tSystem.out.println(\"Finished Executing 2\");\r\n\t\t\tsem2.release();\r\n\t\t} catch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\t\r\n\t\r\n\tpublic void third() {\r\n\t\ttry {\r\n\t\t\tsem2.acquire();\r\n\t\t\tsem2.release();\r\n\t\t\tSystem.out.println(\"Started Executing 3\");\r\n\t\t\tThread.sleep(pauseTime);\r\n\t\t\tSystem.out.println(\"Finished Executing 3\");\r\n\t\t} catch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\t\t\r\n}\r\n","Chapter":"Ch 15. Threads and Locks"}