{"Id":"de0bd087-52cf-430a-9235-52a8b360ca22","Topic":"FooBad.java","Question":"","Solution":"package Q15_05_Call_In_Order;\r\n\r\nimport java.util.concurrent.locks.ReentrantLock;\r\n\r\npublic class FooBad {\r\n\tpublic int pauseTime = 1000;\r\n\tpublic ReentrantLock lock1;\r\n\tpublic ReentrantLock lock2;\r\n\t\r\n\tpublic FooBad() {\t\r\n\t\ttry {\r\n\t\t\tlock1 = new ReentrantLock();\r\n\t\t\tlock2 = new ReentrantLock();\r\n\t\t\t\r\n\t\t\tlock1.lock();\r\n\t\t\tlock2.lock();\r\n\t\t} catch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void first() {\r\n\t\ttry {\r\n\t\t\tSystem.out.println(\"Started Executing 1\");\r\n\t\t\tThread.sleep(pauseTime);\r\n\t\t\tSystem.out.println(\"Finished Executing 1\");\r\n\t\t\tlock1.unlock();\r\n\t\t} catch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void second() {\r\n\t\ttry {\r\n\t\t\tlock1.lock();\r\n\t\t\tlock1.unlock();\r\n\t\t\tSystem.out.println(\"Started Executing 2\");\r\n\t\t\tThread.sleep(pauseTime);\r\n\t\t\tSystem.out.println(\"Finished Executing 2\");\r\n\t\t\tlock2.unlock();\r\n\t\t} catch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\t\r\n\t\r\n\tpublic void third() {\r\n\t\ttry {\r\n\t\t\tlock2.lock();\r\n\t\t\tlock2.unlock();\r\n\t\t\tSystem.out.println(\"Started Executing 3\");\r\n\t\t\tThread.sleep(pauseTime);\r\n\t\t\tSystem.out.println(\"Finished Executing 3\");\r\n\t\t} catch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\t\r\n}\r\n","Chapter":"Q15_05_Call_In_Order"}