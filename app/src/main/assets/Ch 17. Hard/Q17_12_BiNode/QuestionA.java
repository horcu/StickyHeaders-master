{"Id":"9af5e06e-d03a-456d-982e-d7ec4ea00609","Topic":"QuestionA.java","Question":"","Solution":"package Q17_12_BiNode;\r\n\r\npublic class QuestionA {\r\n\tprivate static class NodePair {\r\n\t\tBiNode head;\r\n\t\tBiNode tail;\r\n\r\n\t\tpublic NodePair(BiNode head, BiNode tail)  {\r\n\t\t\tthis.head = head;\r\n\t\t\tthis.tail = tail;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static NodePair convert(BiNode root) {\r\n\t\tif (root == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\tNodePair part1 = convert(root.node1);\r\n\t\tNodePair part2 = convert(root.node2);\r\n\t\t\r\n\t\tif (part1 != null) {\r\n\t\t\tconcat(part1.tail, root);\r\n\t\t}\r\n\t\t\r\n\t\tif (part2 != null) {\r\n\t\t\tconcat(root, part2.head);\r\n\t\t}\r\n\t\t\r\n\t\treturn new NodePair(part1 == null ? root : part1.head, part2 == null ? root : part2.tail);\r\n\t}\t\r\n\t\r\n\tpublic static void concat(BiNode x, BiNode y) {\r\n\t\tx.node2 = y;\r\n\t\ty.node1 = x;\r\n\t}\r\n\r\n\tpublic static void printLinkedListTree(BiNode root) {\r\n\t\tfor (BiNode node = root; node != null; node = node.node2) {\r\n\t\t\tif (node.node2 != null && node.node2.node1 != node) {\r\n\t\t\t\tSystem.out.print(\"inconsistent node: \" + node);\r\n\t\t\t}\r\n\t\t\tSystem.out.print(node.data + \"->\");\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\n\tpublic static BiNode createTree() {\r\n\t\tBiNode[] nodes = new BiNode[7];\r\n\t\tfor (int i = 0; i < nodes.length; i++) {\r\n\t\t\tnodes[i] = new BiNode(i);\r\n\t\t}\r\n\t\tnodes[4].node1 = nodes[2];\r\n\t\tnodes[4].node2 = nodes[5];\r\n\t\tnodes[2].node1 = nodes[1];\r\n\t\tnodes[2].node2 = nodes[3];\r\n\t\tnodes[5].node2 = nodes[6];\r\n\t\tnodes[1].node1 = nodes[0];\r\n\t\treturn nodes[4];\r\n\t}\r\n\r\n\tpublic static void printAsTree(BiNode root, String spaces) {\r\n\t\tif (root == null) {\r\n\t\t\tSystem.out.println(spaces + \"- null\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tSystem.out.println(spaces + \"- \" + root.data);\r\n\t\tprintAsTree(root.node1, spaces + \"   \");\r\n\t\tprintAsTree(root.node2, spaces + \"   \");\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tBiNode root = createTree();\r\n\t\tprintAsTree(root, \"\");\r\n\t\tNodePair n = convert(root);\r\n\t\tprintLinkedListTree(n.head);\r\n\t}\r\n\r\n}\r\n","Chapter":"Q17_12_BiNode"}